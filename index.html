<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitud de Cambio</title>
    <link rel="stylesheet" href="./index.css">
</head>

<header>
    <img src="./imagenes/banner1.jpg" alt="Banner 1">
</header>

<body>

    <nav class="navbar">
        <ul>
            <li><a href="./index.html">Inicio</a></li>
            <li><a href="#" id="crearFormulario">Crear Nuevo Formulario</a></li>
            <li><a href="mostrarFormularios.php">Modificar Formulario</a></li>
            <li><a href="./listarFormularios.php" target="_blank">Eliminar Formulario</a></li>
            <li><a href="./listarFormularios.php" target="_blank">Listar Formularios</a></li>
        </ul>
    </nav>

    <div id="mensajeBienvenida" style="display: block;" class="mensaje-bienvenida">
        <h1>¡Bienvenido a nuestra plataforma de solicitud de cambios! Comienza a gestionar tus solicitudes de
            modificación de manera eficiente y organizada.</h1>
    </div>
    <br></br>

    <div id="formulario-container" style="display: none;">
        <form action="procesar_solicitud.php" method="post">
            <h2>Solicitud de Cambio</h2>

            <label for="titulo_proye">Titulo del Proyecto:</label>
            <input type="titulo_proye" id="titulo_proye" name="titulo_proye" required>

            <div class="form-group">
                <label for="titulo_soli">Título de la Solicitud:</label>
                <input type="text" id="titulo_soli" name="titulo_soli" required>
            </div>

            <div class="form-group">
                <label for="nro_soli">Nro de Solicitud:</label>
                <input type="text" id="nro_soli" name="nro_soli" pattern="[0-9]+" title="Ingrese solo números" required>
            </div>            

            <br></br>
            <div class="form-group">
                <label for="nombre_soli">Nombre del solicitante:</label>
                <input type="text" id="nombre_soli" name="nombre_soli" pattern="[A-Za-záéíóúÁÉÍÓÚñÑ\s]+" title="Ingrese solo letras" required>
            </div>
            

            <div class="form-group">
                <label for="cargo">Cargo o Rol:</label>
                <input type="text" id="cargo" name="cargo" required>
            </div>

            <div class="descripcion jf">
                <p>Descripción del cambio:</p>
                <input type="text" id="descripcion" name="descripcion" required>
            </div>
            <div class="justificacion jf">
                <p>Justificación del cambio:</p>
                <input type="text" id="justificacion" name="justificacion" required>
            </div>
            <div class="impacto jf">
                <p>Impacto que tendra:</p>
                <input type="text" id="impacto" name="impacto" required>
            </div>

            <label for="prioridad">Prioridad:</label>

            <div>
                <select name="prioridad" id="prioridad" required class="styled-select">
                    <option value="Alta" style="background-color: rgb(202, 26, 26); ">Alta</option>
                    <option value="Media" style="background-color: rgb(165, 87, 42); ">Media</option>
                    <option value="Baja" style="background-color: rgb(42, 165, 69); ">Baja</option>
                </select>
            </div>

            <label for="recursos_n">Recursos Necesarios:</label>
            <textarea id="recursos_n" name="recursos_n" rows="6" required></textarea>

            <label for="fecha">Fecha propuesta:</label>
            <input type="date" id="fecha" name="fecha" required>

            <label for="estado_solicitud">Estado del Cambio Solicitado:</label>
            <select name="estado_solicitud" id="estado_solicitud" required class="styled-select">
                <option value="pendiente">Pendiente</option>
                <option value="en proceso">En Proceso</option>
                <option value="aprobado">Aprobado</option>
                <option value="rechazado">Rechazado</option>
                <option value="implementado">Implementado</option>
            </select>
            <label for="responsable">Responsable de la Solicitud:</label>
            <input type="text" id="responsable" name="responsable" onkeypress="soloLetras(event)" required>

            <label for="comentarios">Observaciones y Comentarios:</label>
            <textarea id="comentarios" name="comentarios" rows="5" required></textarea>

            <button type="submit">Enviar Solicitud</button>
        </form>
    </div>

    <footer class="footer">
        <p>Todos los derechos reservados © Grupo Nro 3</p>
    </footer>

</body>

<script>
    function soloLetras(event) {
        var input = event.key;
        var regex = /^[a-zA-Z\sñáéíóúÁÉÍÓÚ]+$/;
        if (!regex.test(input)) {
            event.preventDefault();
        }
    }

    var input = document.getElementById('responsable');

    input.addEventListener('input', function () {
        var textoIngresado = input.value;
        var newTexto = '';

        for (var i = 0; i < textoIngresado.length; i++) {
            if (textoIngresado[i] === ' ') {
                if (i === textoIngresado.length - 1 || textoIngresado[i + 1] !== ' ') {
                    newTexto += textoIngresado[i];
                }
            } else {
                newTexto += textoIngresado[i];
            }
        }

        input.value = newTexto;
    });

</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const opcionCrear = document.getElementById('crearFormulario');
        const formularioContainer = document.getElementById('formulario-container');
        const mensajeBienvenida = document.getElementById('mensajeBienvenida');

        opcionCrear.addEventListener('click', function (event) {
            event.preventDefault();
            formularioContainer.style.display = 'block';
            mensajeBienvenida.style.display = 'none';
        });

        // Mostrar mensaje de bienvenida al inicio
        formularioContainer.style.display = 'none';
        mensajeBienvenida.style.display = 'block';
    });
</script>




</html>